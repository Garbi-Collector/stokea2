[
  {
    "type": "table",
    "name": "sqlite_sequence",
    "tbl_name": "sqlite_sequence",
    "rootpage": 4,
    "sql": "CREATE TABLE sqlite_sequence(name,seq)"
  },
  {
    "type": "table",
    "name": "products",
    "tbl_name": "products",
    "rootpage": 2,
    "sql": "CREATE TABLE products (\n                                          id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                          name TEXT NOT NULL,\n                                          description TEXT,\n                                          brand TEXT,\n                                          code TEXT UNIQUE NOT NULL,\n                                          wholesale_price REAL NOT NULL,\n                                          profit_percentage REAL NOT NULL,\n                                          sale_price REAL NOT NULL,\n                                          created_at TEXT DEFAULT CURRENT_TIMESTAMP\n    )"
  },
  {
    "type": "index",
    "name": "sqlite_autoindex_products_1",
    "tbl_name": "products",
    "rootpage": 3,
    "sql": null
  },
  {
    "type": "table",
    "name": "stock",
    "tbl_name": "stock",
    "rootpage": 5,
    "sql": "CREATE TABLE stock (\n                                       id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                       product_id INTEGER NOT NULL,\n                                       quantity INTEGER NOT NULL,\n                                       min_alert INTEGER DEFAULT 5,\n                                       FOREIGN KEY (product_id) REFERENCES products(id)\n      )"
  },
  {
    "type": "table",
    "name": "cash_session",
    "tbl_name": "cash_session",
    "rootpage": 6,
    "sql": "CREATE TABLE cash_session (\n                                              id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                              start_amount REAL NOT NULL,\n                                              current_amount REAL NOT NULL,\n                                              opened_at TEXT DEFAULT CURRENT_TIMESTAMP,\n                                              closed_at TEXT\n    )"
  },
  {
    "type": "table",
    "name": "cash_movements",
    "tbl_name": "cash_movements",
    "rootpage": 7,
    "sql": "CREATE TABLE cash_movements (\n                                                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                                cash_session_id INTEGER NOT NULL,\n                                                type TEXT NOT NULL,\n                                                amount REAL NOT NULL,\n                                                description TEXT,\n                                                created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n                                                FOREIGN KEY (cash_session_id) REFERENCES cash_session(id)\n      )"
  },
  {
    "type": "table",
    "name": "sales",
    "tbl_name": "sales",
    "rootpage": 9,
    "sql": "CREATE TABLE sales (\n                                       id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                       cash_session_id INTEGER NOT NULL,\n                                       total REAL NOT NULL,\n                                       created_at TEXT DEFAULT CURRENT_TIMESTAMP,\n                                       FOREIGN KEY (cash_session_id) REFERENCES cash_session(id)\n      )"
  },
  {
    "type": "table",
    "name": "sale_items",
    "tbl_name": "sale_items",
    "rootpage": 10,
    "sql": "CREATE TABLE sale_items (\n                                            id INTEGER PRIMARY KEY AUTOINCREMENT,\n                                            sale_id INTEGER NOT NULL,\n                                            product_id INTEGER NOT NULL,\n                                            quantity INTEGER NOT NULL,\n                                            unit_price REAL NOT NULL,\n                                            subtotal REAL NOT NULL,\n                                            FOREIGN KEY (sale_id) REFERENCES sales(id),\n      FOREIGN KEY (product_id) REFERENCES products(id)\n      )"
  },
  {
    "type": "table",
    "name": "user_config",
    "tbl_name": "user_config",
    "rootpage": 11,
    "sql": "CREATE TABLE user_config (\n                                             id INTEGER PRIMARY KEY CHECK (id = 1),\n\n      name TEXT NOT NULL,\n      is_first_time INTEGER NOT NULL DEFAULT 1,\n\n      open_hour INTEGER NOT NULL CHECK (open_hour BETWEEN 0 AND 23),\n      open_minute INTEGER NOT NULL CHECK (open_minute BETWEEN 0 AND 59),\n\n      close_hour INTEGER NOT NULL CHECK (close_hour BETWEEN 0 AND 23),\n      close_minute INTEGER NOT NULL CHECK (close_minute BETWEEN 0 AND 59),\n\n      money_goal REAL NOT NULL DEFAULT 1000 CHECK (money_goal > 0)\n      )"
  }
]